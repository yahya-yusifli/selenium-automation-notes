## Dynamic Locators in Selenium

Dynamic locators are strategies used to handle elements whose attributes or positions change frequently between page loads or user sessions.
They help you write robust and resilient test scripts that donâ€™t break when minor UI or HTML changes occur.

---

**Why Do We Need Dynamic Locators?**

- Modern web apps often generate elements with dynamic IDs or classes (e.g., `id="user_123"`).
- Hardcoding static locators fails when those values change.
- Dynamic locators help by focusing on consistent patterns.

---

**Common Strategies**

**1. Using contains() in XPath**
```java
driver.findElement(By.xpath("//tag[contains(@attribute,'partialValue')]"));
```
Example:
```java
driver.findElement(By.xpath("//input[contains(@id,'username')]"));
```
```html
<input id="user_123" type="text">
```

---

**2. Using starts-with() in XPath**
```java
driver.findElement(By.xpath("//tag[starts-with(@attribute,'startValue')]"));
```
Example:
```java
driver.findElement(By.xpath("//div[starts-with(@id,'message_')]"));
```
```html
<div id="message_456">Welcome!</div>
```

---

**3. Using ends-with (CSS only)**
```java
driver.findElement(By.cssSelector("tag[attribute$='endValue']"));
```
Example:
```java
driver.findElement(By.cssSelector("input[id$='_input']"));
```
```html
<input id="username_input" type="text">
```

---

**4. Using attribute contains in CSS**
```java
driver.findElement(By.cssSelector("tag[attribute*='partialValue']"));
```
Example:
```java
driver.findElement(By.cssSelector("button[class*='submit']"));
```
```html
<button class="btn submit-btn">Submit</button>
```

---

**5. Using dynamic indexing**
```java
driver.findElement(By.xpath("(//tag[contains(@attribute,'partialValue')])[1]"));
```
Example:
```java
driver.findElement(By.xpath("(//button[contains(@class,'delete')])[1]"));
```
```html
<div class="item-list">
    <button class="delete-btn">Delete Item 1</button>
    <button class="delete-btn">Delete Item 2</button>
    <button class="delete-btn">Delete Item 3</button>
</div>
```

---

**Tips for Building Robust Dynamic Locators**

- Avoid brittle full XPaths.
- Look for stable attributes: `placeholder`, `aria-label`, `data-*`, etc.
- Combine multiple attributes: `//input[@type='text' and contains(@id,'user')]`
- Collaborate with developers for test-friendly attributes (`data-testid`)

---

**Summary Table**

| Strategy          | Example Syntax                                  |
|-------------------|--------------------------------------------------|
| XPath contains    | `//input[contains(@id,'user')]`                  |
| XPath starts-with | `//div[starts-with(@id,'msg_')]`                 |
| CSS ends-with     | `input[id$='_input']`                            |
| CSS contains      | `button[class*='submit']`                        |
| XPath with index  | `(//button[contains(@class,'delete')])[1]`       |

